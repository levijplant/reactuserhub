{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","key","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","console","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"wRAuEeA,EA7DA,SAAC,GAIT,IAHHC,EAGE,EAHFA,YACAC,EAEE,EAFFA,eACAC,EACE,EADFA,SACE,EACsCC,qBADtC,mBACKC,EADL,KACmBC,EADnB,KAGFC,qBAAU,WACND,EAAgBH,EAAS,MAC1B,CAACA,IAuBJ,OACI,gCACI,kDACA,0BACIK,UAAU,cACVC,SA1BS,SAACC,GAClBA,EAAMC,mBA2BMV,EACQ,oCACI,kBAAC,IAAD,CAASW,GAAG,SAASC,gBAAgB,WAArC,SACA,kBAAC,IAAD,CAASD,GAAG,SAASC,gBAAgB,WAArC,SACA,4BAAQC,QAjBX,SAACJ,GACtBJ,EAAgBH,EAAS,IC3B7BY,aAAaC,WAAW,eD6BpBd,EAAe,QAcS,YAAgDD,EAAYgB,WAEhE,oCACI,4BAAQC,SA/BT,SAACR,GACxB,IAAMS,EAAKT,EAAMU,OAAOC,MAClBC,EAAOnB,EAASoB,MAAK,SAAAD,GAAI,OAAIA,EAAKH,IAAMA,KAC9Cb,EAAgBgB,KA6BYnB,EAASqB,KAAI,SAAAF,GAAI,OACb,4BAAQG,IAAMH,EAAKH,GAAKE,MAAQC,EAAKH,IAC/BG,EAAKL,cAInB,4BAAQH,QAhCZ,SAACJ,GC/BtB,IAA0BY,IDgCRjB,EC/BrBU,aAAaW,QAAQ,cAAeC,KAAKC,UAAUN,IDgC/CpB,EAAeG,KA8BS,cE1CjBwB,G,MAjBG,SAAC,GAGZ,IAFH5B,EAEE,EAFFA,YACA6B,EACE,EADFA,UAEA,OACI,yBAAKtB,UAAU,cACX,wCAAeP,EAAYgB,UAC1Ba,EAAUN,KAAI,gBAAGL,EAAH,EAAGA,GAAIY,EAAP,EAAOA,MAAOC,EAAd,EAAcA,KAAd,OACX,yBAAKP,IAAMN,EAAKX,UAAU,QACtB,4BAAMuB,GACN,2BAAKC,UCQVC,G,MAlBG,SAAC,GAGZ,IAFHhC,EAEE,EAFFA,YACAiC,EACE,EADFA,UAEA,OACI,yBAAK1B,UAAU,cACX,wCAAcP,EAAYgB,UACzBiB,EAAUV,KAAI,gBAAGL,EAAH,EAAGA,GAAIY,EAAP,EAAOA,MAAOI,EAAd,EAAcA,UAAd,OACX,yBAAKV,IAAMN,EAAKX,UAAU,QACtB,wBAAI4B,MAAO,CACPC,eAAgBF,EAAY,eAAiB,SAC5CJ,U,yCCbnBO,EAAO,4C,4CAEN,8BAAAC,EAAA,+EAEwBC,IAAMC,IAAN,UAAaH,EAAb,WAFxB,uBAESI,EAFT,EAESA,KAFT,kBAGQA,GAHR,qG,kEASA,WAA8BC,GAA9B,iBAAAJ,EAAA,+EAEwBC,IAAMC,IAAN,UAAaH,EAAb,kBAA2BK,EAA3B,WAFxB,uBAESD,EAFT,EAESA,KAFT,kBAGQA,GAHR,qG,kEASA,WAA8BC,GAA9B,iBAAAJ,EAAA,+EAEwBC,IAAMC,IAAN,UAAaH,EAAb,kBAA2BK,EAA3B,WAFxB,uBAESD,EAFT,EAESA,KAFT,kBAGQA,GAHR,qG,sBCIP,IAAME,EAAM,WAAO,IAAD,EACkBxC,mBAAS,IAD3B,mBACPD,EADO,KACG0C,EADH,OAEwBzC,mBJvBzBuB,KAAKmB,MAAM/B,aAAagC,QAAQ,iBIqB/B,mBAEP9C,EAFO,KAEMC,EAFN,OAGoBE,mBAAS,IAH7B,mBAGP0B,EAHO,KAGIkB,EAHJ,OAIoB5C,mBAAS,IAJ7B,mBAIP8B,EAJO,KAIIe,EAJJ,KAuCd,OAjCA1C,qBAAU,YD5BP,WAAP,gCC6BQ2C,GACCC,MAAK,SAAAC,GACFP,EAAYO,MAEfC,OAAM,SAAAC,GAEH,MADAC,QAAQD,MAAMA,GACRA,OAEX,IAEH/C,qBAAU,WACN,IAAKN,EAGD,OAFA+C,EAAa,SACbC,EAAa,KDjClB,SAAP,mCCqCQO,CAAevD,EAAYkB,IAC1BgC,MAAK,SAAAM,GACFT,EAAaS,MAEhBJ,OAAM,SAAAC,GAEH,MADAC,QAAQD,MAAMA,GACRA,KDlCX,SAAP,kCCqCQI,CAAezD,EAAYkB,IACtBgC,MAAK,SAAAQ,GACFV,EAAaU,QAEtB,CAAC1D,IAGA,kBAAC,IAAD,KACI,yBAAKkB,GAAG,OACJ,kBAAC,EAAD,CACIhB,SAAWA,EACXF,YAAcA,EACdC,eAAiBA,IAEjBD,EACI,oCACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO2D,KAAK,UACR,kBAAC,EAAD,CACI9B,UAAYA,EACZ7B,YAAcA,KAEtB,kBAAC,IAAD,CAAO2D,KAAK,UACR,kBAAC,EAAD,CACI1B,UAAYA,EACZjC,YAAcA,KAEtB,kBAAC,IAAD,CAAO4D,OAAK,EAACD,KAAK,KACd,wBAAIxB,MAAO,CACP0B,QAAS,SADb,YAEc7D,EAAYgB,SAF1B,MAIJ,kBAAC,IAAD,CAAUL,GAAG,QAGrB,oCACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOiD,OAAK,EAACD,KAAK,KACd,wBAAIxB,MAAO,CACP0B,QAAS,SADb,0BAIJ,kBAAC,IAAD,CAAUlD,GAAG,QAlCjC,OA2CZmD,IAASC,OACL,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.b47be009.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport {\n    storeCurrentUser,\n    clearCurrentUser\n} from '../auth';\n\nimport './Header.css';\n\nconst Header = ({\n    currentUser,\n    setCurrentUser,\n    userList\n}) => {\n    const [selectedUser, setSelectedUser] = useState();\n\n    useEffect(() => {\n        setSelectedUser(userList[0]);\n    }, [userList]);\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n    }\n\n    const handleSelectChange = (event) => {\n        const id = event.target.value;\n        const user = userList.find(user => user.id == id);\n        setSelectedUser(user);\n    }\n\n    const handleUserLogin = (event) => {\n        storeCurrentUser(selectedUser);\n        setCurrentUser(selectedUser);\n    }\n\n    const handleUserLogout = (event) => {\n        setSelectedUser(userList[0]);\n        clearCurrentUser();\n        setCurrentUser(null);\n    }\n\n    return (\n        <header>\n            <h1>Welcome to UserHub</h1>\n            <form\n                className=\"user-select\"\n                onSubmit={ handleSubmit } >\n                {\n                    currentUser\n                        ?   <>\n                                <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n                                <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink>\n                                <button onClick={ handleUserLogout }>LOG OUT, { currentUser.username }</button>\n                            </>\n                        :   <>\n                                <select onChange={ handleSelectChange }>{\n                                    userList.map(user => (\n                                        <option key={ user.id } value={ user.id }>\n                                            { user.username }\n                                        </option>\n                                    ))\n                                }</select>\n                                <button onClick={ handleUserLogin }>LOG IN</button>\n                            </>\n                }\n            </form>\n        </header>\n    );\n}\n\nexport default Header;","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user));\n}\n\nexport function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n}\n\nexport function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n}","import React from 'react';\n\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser,\n    userPosts\n}) => {\n    return (\n        <div className=\"user-posts\">\n            <h2>Posts By { currentUser.username }</h2>\n            {userPosts.map(({ id, title, body }) => (\n                <div key={ id } className=\"post\">\n                    <h3>{ title }</h3>\n                    <p>{ body }</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","import React from 'react';\n\nimport './UserTodos.css';\n\nconst UserTodos = ({\n    currentUser,\n    userTodos\n}) => {\n    return (\n        <div className=\"user-todos\">\n            <h2>Todos By {currentUser.username}</h2>\n            {userTodos.map(({ id, title, completed }) => (\n                <div key={ id } className=\"todo\">\n                    <h3 style={{\n                        textDecoration: completed ? 'line-through' : 'none'\n                    }}>{ title }</h3>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserTodos;","import axios from 'axios';\n\nconst BASE = 'https://jsonplace-univclone.herokuapp.com'\n\nexport async function getUsers() {\n    try {\n        const { data } = await axios.get(`${BASE}/users`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getPostsByUser(userId) {\n    try {\n        const { data } = await axios.get(`${BASE}/users/${userId}/posts`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}\n\nexport async function getTodosByUser(userId) {\n    try {\n        const { data } = await axios.get(`${BASE}/users/${userId}/todos`);\n        return data;\n    } catch (error) {\n        throw error;\n    }\n}","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Switch,\n    Redirect\n} from 'react-router-dom';\n\nimport {\n    Header,\n    UserPosts,\n    UserTodos\n} from './components';\n\nimport { \n    getUsers,\n    getPostsByUser,\n    getTodosByUser\n} from './api';\n\nimport {\n    getCurrentUser\n} from './auth';\n\nconst App = () => {\n    const [userList, setUserList] = useState([]);\n    const [currentUser, setCurrentUser] = useState(getCurrentUser());\n    const [userPosts, setUserPosts] = useState([]);\n    const [userTodos, setUserTodos] = useState([]);\n\n    useEffect(() => {\n        getUsers()\n        .then(users => {\n            setUserList(users);\n        })\n        .catch(error => {\n            console.error(error);\n            throw error;\n        });\n    }, []);\n\n    useEffect(() => {\n        if (!currentUser) {\n            setUserPosts([]);\n            setUserTodos([]);\n            return;\n        };\n\n        getPostsByUser(currentUser.id)\n        .then(posts => {\n            setUserPosts(posts);\n        })\n        .catch(error => {\n            console.error(error);\n            throw error;\n        });\n\n        getTodosByUser(currentUser.id)\n            .then(todos => {\n                setUserTodos(todos);\n            });\n    }, [currentUser]);\n\n    return (\n        <Router>\n            <div id=\"App\">\n                <Header \n                    userList={ userList }\n                    currentUser={ currentUser }\n                    setCurrentUser={ setCurrentUser } />\n                {\n                    currentUser\n                    ?   <>\n                            <Switch>\n                                <Route path=\"/posts\">\n                                    <UserPosts\n                                        userPosts={ userPosts }\n                                        currentUser={ currentUser } />\n                                </Route>\n                                <Route path=\"/todos\">\n                                    <UserTodos\n                                        userTodos={ userTodos }\n                                        currentUser={ currentUser } />\n                                </Route>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: '.5em'\n                                    }}>Welcome, { currentUser.username }!</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                    :   <>\n                            <Switch>\n                                <Route exact path=\"/\">\n                                    <h2 style={{\n                                        padding: \".5em\"\n                                    }}>Please log in, above.</h2>\n                                </Route>\n                                <Redirect to=\"/\" />\n                            </Switch>\n                        </>\n                };\n            </div>\n        </Router>\n    );\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('root')\n);"],"sourceRoot":""}